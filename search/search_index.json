{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"About","text":""},{"location":"#fermo-documentation","title":"FERMO Documentation","text":"<p>FERMO is a graphical dashboard application for metabolomics data analysis, with automated integration of phenotype data, group (meta)data, and genomic data. </p> <ul> <li>FERMO GUI describes the usage and functionality of the dashboard application frontend.</li> <li><code>fermo_core</code> describes the backend data processing and analysis functionality of FERMO</li> </ul> <p>This documentation has been last updated for FERMO v1.1.0 and <code>fermo_core</code> v0.6.1</p>"},{"location":"#how-to-use-this-documentation","title":"How to use this documentation","text":"<ul> <li>Home: describes the general usage and applicability of FERMO</li> <li>Modules: serves as reference to the individual modules integrated into FERMO</li> </ul>"},{"location":"#about","title":"About","text":""},{"location":"#websites","title":"Websites","text":"<ul> <li>FERMO Online: the online version of FERMO.</li> <li>FERMO: repository of the graphical user interface frontend.</li> <li>fermo_core: repository of the processing pipeline</li> </ul>"},{"location":"#license","title":"License","text":"<p>FERMO is open source software freely available under the permissive MIT License.</p>"},{"location":"#publication","title":"Publication","text":"<p>See FERMO online for information on citing <code>fermo_core</code>.</p>"},{"location":"#acknowledgements-and-funding","title":"Acknowledgements and Funding","text":"This work was funded by the European Union Horizon 2020 project MARBLES [101000392] This work was supported by the Netherlands Organization for Scientific Research (NWO) KIC grant KICH1.LWV04.21.013"},{"location":"home/core.installation/","title":"Installation","text":"<p>Detailed information on how to install and run fermo_core offline can be found in the README.</p>"},{"location":"home/core.overview/","title":"Overview","text":""},{"location":"home/core.overview/#overview-fermo_core","title":"Overview <code>fermo_core</code>","text":"<p>FERMO consists of two parts:</p> <ul> <li><code>fermo_gui</code>: the dashboard graphical user interface. </li> <li><code>fermo_core</code>: the data processing and analysis pipeline (the backend).</li> </ul> <p>This part of the documentation describes <code>fermo_core</code> in more detail.</p>"},{"location":"home/core.overview/#who-is-fermo_core-for","title":"Who is <code>fermo_core</code> for?","text":"<p>While <code>fermo_core</code> is primarily intended to be the data processing backend of <code>fermo_gui</code>, it can also be used as a command line application. </p> <p>Nota bene: <code>fermo_core</code> is not very beginner-friendly, and requires some experience with command line tools. For a more user-friendly version, please see <code>fermo_gui</code>.</p>"},{"location":"home/core.overview/#why-use-fermo_core","title":"Why use <code>fermo_core</code>?","text":"<p>As command line application, <code>fermo_core</code> can be used for large scale data analysis, design-of-experiment, and data processing automation. <code>fermo_core</code> does not come with its own data visualization, but the produced files can be either uploaded in the <code>fermo_gui</code> or used in downstream processing tools.</p>"},{"location":"home/gui.dashboard/","title":"Usage","text":"<p>The Dashboard is the main page of FERMO GUI.  It allows the perform data inspection and analysis and to download generated files for further use.</p>"},{"location":"home/gui.dashboard/#examples","title":"Examples","text":"<p>Three examples are available that illustrate the prioritization capabilities of the FERMO dashboard.</p>"},{"location":"home/gui.dashboard/#euphorbia-dendroides","title":"Euphorbia dendroides","text":"<p>This example re-analyzes the Euphorbia dendroides dataset previously featured in the Bioactivity-Based Molecular Networking publication. This dataset integrates metabolomics data (MSV000080502) with quantitative phenotype measurements of antiviral activity against the chikungunya virus.</p> <p>This example demonstrates that FERMO\u2019s phenotype prioritization approach yields results consistent with those reported in the original study. Applying the phenotype filter prioritizes the following molecular features: m/z 591.324 (RT 27.05 min), m/z 589.311 (RT 25.4 min), and m/z 563.296 (RT 21.6 min), highlighting FERMO\u2019s ability to reproduce biologically relevant findings despite using a different prioritization algorithm.</p>"},{"location":"home/gui.dashboard/#streptomyces-sp-mbt27","title":"Streptomyces sp. MBT27","text":"<p>This example revisits a study, where cultivation on various carbon sources led to differential antibacterial activity against Staphylococcus aureus. The dataset integrates metabolomics data (MSV000097564), quantitative bioactivity data, growth condition metadata, and genomic information (antiSMASH results).</p> <p>This example showcases FERMO\u2019s strength in integrating diverse data types to identify bioactive compounds. In this case, FERMO correctly prioritizes actinomycin D as the active compound, further linking it to its likely biosynthetic gene cluster.</p>"},{"location":"home/gui.dashboard/#planomonospora","title":"Planomonospora","text":"<p>This example analyzes a subset of 10 Planomonospora strains, originally described in this study.  This dataset combines metabolomics data (Zenodo) with qualitative bioactivity data (growth inhibition against Staphylococcus aureus) and information about the phylogroup to which each strain belongs.</p> <p>This case demonstrates FERMO\u2019s capability to integrate bioactivity and phylogenetic context. Applying the phenotype filter reveals that only strains from the \u201cS\u201d phylogroup exhibit antibacterial activity. Feature inspection suggests that the activity is likely due to siomycin A and its congeners, well-known antibacterial thiopeptides.</p>"},{"location":"home/gui.dashboard/#dashboard-elements","title":"Dashboard Elements","text":"<p>Nota bene: we will illustrate the dashboard functionality by drawing from the Planomonospora example dataset</p>"},{"location":"home/gui.dashboard/#main-chromatogram","title":"Main chromatogram","text":"<p>The Main chromatogram view is the core of the data visualization.  It allows to access information on molecular features, their annotations, and relatedness. Clicking a peak triggers the sequence similarity visualization as chromatogram (showing releated features in the active sample) and as network (showing related features in the whole dataset.)</p> <p>Nota bene: the peaks (extracted ion chromatograms) are actually pseudo-chromatograms, reconstructed from the peaktable data. They are only an abstraction of the original data and may not always represent the original peak shape appropriately.</p>"},{"location":"home/gui.dashboard/#example","title":"Example","text":"<p>In the example, we inspect the molecular feature with the ID 15 by clicking it.  This feature has multiple related features present in the sample and in the dataset. When we inspect the Molecular feature info we see that it has been annotated as chymostatin-like molecule.</p> <p></p>"},{"location":"home/gui.dashboard/#general-information","title":"General information","text":"<p>The General information displays a summary of the analysis run.</p>"},{"location":"home/gui.dashboard/#example_1","title":"Example","text":"<p>In the example, we see that 143 molecular features from 11 samples were processed. 74 features were removed due to the filter settings. We can also see the run date and the version of <code>fermo_core</code> that was used.</p> <p></p>"},{"location":"home/gui.dashboard/#sample-overview","title":"Sample overview","text":"<p>The Sample overview gives an overview of the samples in the analysis. It also shows the Retained features, that is, which features have been selected by the filter settings. Further, it displays sample scores and group affiliation of the samples. A click on a sample name changes the visualization in the Main Chromatogram.</p>"},{"location":"home/gui.dashboard/#example_2","title":"Example","text":"<p>In the example, we click through some of the samples. Since we have not set any filters, the numbers in Total features and Retained Features are identical. We then look for the sample with the highest diversity, specificity, and mean novelty score.</p> <p></p>"},{"location":"home/gui.dashboard/#molecular-feature-info","title":"Molecular feature info","text":"<p>The Molecular feature info gives more information on the selected molecular features. This includes general information, annotation information, abundance across groups and samples.</p>"},{"location":"home/gui.dashboard/#example_3","title":"Example","text":"<p>In the example, we inspect the feature ID 83.  We see that it has been annotated as a siomycin-like compound. It also has an annotation to be phenotype-associated. Further, it has been annotated by the Adduct, Fragment, and Neutral loss modules.</p> <p></p>"},{"location":"home/gui.dashboard/#spectral-similarity-networking","title":"Spectral similarity networking","text":"<p>The Spectral similarity networking displays the spectral similarity network (also known as molecular networks) the selected feature is associated with. FERMO can calculate these networks with different algorithms, which result in different network topologies.</p>"},{"location":"home/gui.dashboard/#example_4","title":"Example","text":"<p>In the example, we inspect a network that shows very different topologies dependent on the algorithm used. We inspect the nodes and edges, and use the network view to quickly cycle through the features.</p> <p></p>"},{"location":"home/gui.dashboard/#filters","title":"Filters","text":"<p>The Fiters are a useful element of the data analysis: they allow to quickly focus attention on the most relevant features for the respective research questions. Filters can be stacked to allow for specific research questions. The filter settings also update the Retained features number in the Sample overview. </p> <p>Nota bene: we are currently working on further improving filter settings.</p>"},{"location":"home/gui.dashboard/#novelty-score-filter","title":"Novelty score filter","text":"<p>Allows to filter for the Novelty score.</p>"},{"location":"home/gui.dashboard/#hide-blanks","title":"Hide blanks","text":"<p>Allows to hide blank-annotated features (see here).</p>"},{"location":"home/gui.dashboard/#hide-unannotated-features","title":"Hide unannotated features","text":"<p>Allows to hide all features that do not have any annotations.  This also triggers the availability of additional filters.</p>"},{"location":"home/gui.dashboard/#match-score-filter","title":"Match score filter","text":"<p>Allows to filter for (spectral) library matches in a certain range.</p>"},{"location":"home/gui.dashboard/#phenotype-score-filter","title":"Phenotype score filter","text":"<p>Allows to filter for a Phenotype score in a certain range (only showing phenotype/bioactivity-associated features).</p>"},{"location":"home/gui.dashboard/#find-feature","title":"Find feature","text":"<p>Allows to search for a specific feature ID.</p>"},{"location":"home/gui.dashboard/#precursor-mz-filter","title":"Precursor m/z filter","text":"<p>Allows to search for a precursor m/z range</p>"},{"location":"home/gui.dashboard/#sample-filter","title":"Sample filter","text":"<p>Allows to select features that have been observed in a minimum and/or maximum number of samples.</p>"},{"location":"home/gui.dashboard/#fold-change-filter","title":"Fold-change filter","text":"<p>Allows to select features that are n-times more abundant across one group versus another group in a certain category.</p>"},{"location":"home/gui.dashboard/#show-only-selected-group-feature","title":"Show only selected group feature","text":"<p>Allows to show only features that are in a selected group</p>"},{"location":"home/gui.dashboard/#exclude-feature-with-specific-network-groups","title":"Exclude feature with specific network groups","text":"<p>Allows to exclude features that are associated to a certain group from the selection.  This also extends to all features that are in the same spectral similarity network.  This can be useful to subtract blank-associated features.</p>"},{"location":"home/gui.dashboard/#example_5","title":"Example","text":"<p>In this example, we go through all the filters and observe how they impact the selection.</p> <p></p>"},{"location":"home/gui.dashboard/#downloads-and-general-settings","title":"Downloads and general settings","text":"<p>This field allows to download the individual files for storage or offline use.  For more information about the output files, see here.</p>"},{"location":"home/gui.dashboard/#display","title":"Display","text":"<p>In FERMO v.1.0.0, the dashboard has been completely reworked and now allows for dynamic construction of the user interface.</p> <p></p>"},{"location":"home/gui.installation/","title":"Installation","text":"<p>Detailed information on how to install and run FERMO GUI offline can be found in the README.</p>"},{"location":"home/gui.load/","title":"Usage","text":"<p>On the 'Load Session' page, existing FERMO analysis jobs can be loaded.</p> <p>The job/session file can be loaded by clicking on the 'Load Session' button at the bottom of the page.</p>"},{"location":"home/gui.load/#load-existing-job","title":"Load existing job","text":"<p>This field allows to load an existing FERMO job (e.g. created by a colleague). </p> <p>Simply paste the FERMO job ID into the field, and click on the 'Load Session' button.</p> <p>Nota bene: FERMO jobs are deleted after 30 days. Users are advised to download and store the FERMO session.json files locally.</p>"},{"location":"home/gui.load/#example","title":"Example","text":""},{"location":"home/gui.load/#session-file-upload","title":"Session file upload","text":"<p>This field allows to upload a previously downloaded session.json file.  This can also be used to reload parameters of a previous job (see Start Analysis for details).</p> <p>Nota bene: session files from FERMO &lt;v1.0.0 are not accepted</p>"},{"location":"home/gui.load/#example_1","title":"Example","text":""},{"location":"home/gui.overview/","title":"Overview","text":""},{"location":"home/gui.overview/#about","title":"About","text":"<p>This is the documentation for FERMO GUI, which includes the online version of FERMO.</p> <p>There are three main pages of FERMO GUI:</p> <ul> <li>Start Analysis</li> <li>Load Session</li> <li>Dashboard</li> </ul>"},{"location":"home/gui.overview/#start-analysis","title":"Start Analysis","text":"<p>This page allows to start new analysis jobs, upload files, and set parameter settings.  Furthermore, it can be used to clone parameter settings of previous FERMO jobs.</p> <p>For more information, see here.</p>"},{"location":"home/gui.overview/#load-session","title":"Load Session","text":"<p>This page allows to load previously executed jobs, or upload downloaded FERMO session files.</p> <p>For more information, see here.</p>"},{"location":"home/gui.overview/#dashboard","title":"Dashboard","text":"<p>The dashboard page is the main element of FERMO GUI: it allows for data analysis and download of result files.</p> <p>For more information, see here.</p>"},{"location":"home/gui.start/","title":"Usage","text":"<p>On the 'Start Analysis' page, new FERMO analysis jobs can be initiated.</p> <p>Files can be uploaded using the individual upload fields.  The analysis job can be started by clicking on the 'Start Analysis' button at the bottom of the page.</p> <p>The only file required is a peaktable file - all other files are optional.</p> <p>While default parameters are provided, they need to be adjusted according to the requirements of the data.</p> <p>Nota bene: FERMO online versions employs some restrictions with regard to file size, computation time, and data storage to prevent excessive usage. Details can be found on the 'Start Analysis' page.</p>"},{"location":"home/gui.start/#example","title":"Example","text":""},{"location":"home/gui.start/#load-parameters","title":"Load parameters","text":"<p>This field allows to clone the parameter settings of a previous FERMO job (e.g. created by a colleague). </p> <p>To load the parameters, simply paste the FERMO job ID into the field, and click on the 'Load Job Parameters' button.</p> <p>Nota bene: files and filenames are not retained and must be newly uploaded.</p>"},{"location":"home/gui.start/#example_1","title":"Example","text":""},{"location":"home/gui.start/#troubleshooting","title":"Troubleshooting","text":"<p>If an old job ID does not exist anymore but you still want to clone the parameters, you can simply upload a previously created FERMO session.json file under Load Session. Take the newly generated FERMO job ID and use it to load the parameters.</p>"},{"location":"home/input_output/","title":"Input/Output","text":"<p>FERMO accepts several input data formats and produces a variety of output data files, as described below.</p>"},{"location":"home/input_output/#input-data-formats","title":"Input Data Formats","text":"<p>This is a comprehensive list of input data formats currently accepted by FERMO. Detailed information can be found below. If your favorite data format is missing, feel free to contact the developers.</p> Data type Accepted formats Mandatory/Optional Example Molecular feature peaktable mzmine3/mzmine4 Mandatory mzmine3 MS/MS spectrum information mgf(mzmine3/mzmine4) Optional mgf(mzmine3) Group metadata fermo Optional fermo Phenotype/bioactivity data qualitative,quantitative-percentage,quantitative-concentration Optional qualitative,quantitative-percentage,quantitative-concentration Spectral library mgf Optional mgf MS2Query results file ms2query Optional ms2query AntiSMASH results antiSMASH(KnownClusterBlast) Optional antiSMASH(KnownClusterBlast)"},{"location":"home/input_output/#output-data-formats","title":"Output Data Formats","text":"<p>All output files created by FERMO are written into a <code>results</code> directory that is created in the directory in which the provided peaktable file resides.</p> <p>All output files are starting with <code>out.fermo</code> and ending with a suffix that specifies their type (see the table below):</p> Suffix Description .session.json Main output of fermo_core, is used for visualization in fermo_gui .graphml Spectral similarity (=molecular) network file, can be imported into Cytoscape .fermo.abbrev.csv Feature annotation file, can be imported into Cytoscape .fermo.full.csv Modified full peaktable, can be used in downstream processing .log A log file describing the steps performed and any warnings/errors that were registered. .summary.txt A summary of the steps taken and parameters applied in human-readable form. Can be adapted for the methods section of a manuscript (beware of copy-pasting and a potential flag by a plagiarism software)"},{"location":"home/input_output/#details-input-data-formats","title":"Details Input Data Formats","text":""},{"location":"home/input_output/#molecular-feature-peaktable","title":"Molecular feature peaktable","text":"<p>The peaktable must:</p> <ul> <li>Derive from liquid chromatography electrospray ionization (tandem) mass spectrometry (LC-ESI-(MS/)MS)</li> <li>Constitute of samples acquired at identical concentration/dilution and identical injection volume</li> <li>Be acquired using untargeted data-dependent acquisition (DDA)</li> <li>Be of high resolution (ideally, &lt;20 ppm mass deviation)</li> <li>Be in a single polarity (either positive or negative ion mode)</li> </ul>"},{"location":"home/input_output/#mzmine3","title":"mzmine3","text":"<p>Peaktable produced by created by mzmine3.  To generate the peaktable in MZmine3, perform the usual pre-processing steps and export the table using <code>Feature list methods -&gt; Export feature list -&gt; Molecular networking files</code>. In the resulting window (see below), keep defaults except <code>Filter rows: ALL</code>, <code>Feature intensity: Height</code>, and <code>CSV export: COMPREHENSIVE</code>.</p> <p></p> <p>FERMO will automatically try to parse ion identity information and library matching annotation from the peaktable.</p> <p>For an example, see here.</p>"},{"location":"home/input_output/#mzmine4","title":"mzmine4","text":"<p>FERMO also accepts peaktables from mzmine4 (exported analogously as above)</p> <p>FERMO will automatically try to parse ion identity information and library matching annotation from the peaktable.</p> <p>For an example, see here.</p>"},{"location":"home/input_output/#msms-spectrum-information","title":"MSMS spectrum information","text":""},{"location":"home/input_output/#mgfmzmine3mzmine4","title":"mgf(mzmine3/mzmine4)","text":"<p>The MS/MS (MS2) fragmentation data file is automatically generated during MZmine (version &gt;=3) peaktable export (see above).</p> <pre><code>BEGIN IONS\nFEATURE_ID=13\nPEPMASS=610.3346\nSCANS=13\nRTINSECONDS=572.766\nCHARGE=0+\nMSLEVEL=2\n98.8724 4.9E1\n103.7477 2.9E1\n... ...\nEND IONS\n</code></pre>"},{"location":"home/input_output/#group-metadata","title":"Group Metadata","text":""},{"location":"home/input_output/#fermo","title":"fermo","text":"<p><code>.csv</code>-file (see example below). Specifically, the file must have:</p> <ul> <li>A single column labeled <code>sample_name</code> specifying the samples IDs. Entries in this column must be unique.</li> <li>One or more columns specifying group categories. In these columns, all values must be strings (no numbers).</li> </ul> <p>Optionally, the file may have:</p> <ul> <li>One or more samples designated as sample blanks with the signal word <code>BLANK</code>.</li> </ul> <pre><code>sample_name,phylogroup,medium\nsample1.mzXML,group1,mediumA\nsample2.mzXML,group1,mediumB\nsample3.mzXML,group2,mediumA\nsample4.mzXML,group2,mediumB\nsample1.mzXML,BLANK,BLANK\nsampleN.mzXML,groupX,mediumY\n</code></pre>"},{"location":"home/input_output/#phenotype-bioactivity-data","title":"Phenotype (bioactivity) data","text":""},{"location":"home/input_output/#qualitative","title":"qualitative","text":"<p><code>.csv</code>-file (see example below). Specifically, the file must have:</p> <ul> <li>A single column labeled <code>sample_name</code> specifying the samples considered \u201cpositive\u201d</li> </ul> <pre><code>sample_name\nsample1.mzXML\nsample2.mzXML\nsample3.mzXML\nsampleN.mzXML\n</code></pre>"},{"location":"home/input_output/#quantitative-percentage","title":"quantitative-percentage","text":"<p><code>.csv-file</code> (see example below). Specifically, the file must have:</p> <ul> <li>A column labeled <code>sample_name</code> specifying the sample identifiers </li> <li>A column labeled <code>well</code> specifying the well number. Numbers in this column must be occurring only once. Note that the label <code>well</code> stands for any measurement reference (vial, rack position, etc.)</li> <li>One to six columns labeled with <code>assay:...</code>, which indicate different assays (or one assay at different concentrations). The values indicate the percentage inhibition measured for this sample. Negative percentages are considered as 0 (zero).</li> <li>Measurements for at least 4 samples</li> </ul> <pre><code>sample_name,well,assay:assay1_conc1,assay:assay1_conc2,assay2_conc1\nsample1.mzXML,1,6,30,98\nsample1.mzXML,2,-5,22,80\nsample2.mzXML,3,3,15,-20\nsample2.mzXML,4,18,17,32\nsampleN.mzXML,M,X,Y,Z\n</code></pre>"},{"location":"home/input_output/#quantitative-concentration","title":"quantitative-concentration","text":"<p><code>.csv</code>-file (see example below). Specifically, the file must have:</p> <ul> <li>A column labeled <code>sample_name</code> specifying the sample identifiers </li> <li>A column labeled <code>well</code> specifying the well number. Numbers in this column must be occurring only once. Note that the label <code>well</code> stands for any measurement reference (vial, rack position, etc.)</li> <li>One to six columns labeled with <code>assay:...</code>, which indicate different assays. The values indicate the minimal inhibitory concentration and must be positive numbers. Samples with no measured activity are indicated with 0 (zero).</li> <li>Measurements for at least 4 samples</li> </ul> <pre><code>sample_name,well,assay:bactericidal\nsample1.mzXML,1,256\nsample1.mzXML,2,256\nsample1.mzXML,3,64\nsample1.mzXML,4,32\nsample1.mzXML,5,0\nsample1.mzXML,6,0\nsampleN.mzXML,M,X\n</code></pre>"},{"location":"home/input_output/#spectral-library","title":"Spectral Library","text":""},{"location":"home/input_output/#mgfgnps","title":"mgf(GNPS)","text":"<p>A <code>.mgf</code>-file (Mascot generic format) as produced by GNPS. Specifically, this file must:</p> <ul> <li>Start with <code>BEGIN IONS</code></li> <li>Have a <code>PEPMASS</code> entry indicating the precursor ion m/z</li> <li>Have a number of fragment-intensity pairs</li> <li>End with <code>END IONS</code></li> </ul> <p>Optionally, the following fields are supported: - <code>SMILES</code> - <code>INCHI</code>  - <code>NAME</code></p> <p>Other fields may be present but are not actively parsed.</p> <pre><code>BEGIN IONS\nPEPMASS=1649.45\nNAME=Fakeomycin\nSMILES=CCCCCC\nINCHI=AKFVOKPQHFBYCA\nSCANS=1\n172.073334  80.0\n190.080322  201.0\n... ...\nEND IONS\n</code></pre>"},{"location":"home/input_output/#ms2query-results-file","title":"MS2Query Results File","text":""},{"location":"home/input_output/#ms2queryfermo-modified","title":"ms2query(fermo-modified)","text":"<p>A MS2Query result <code>.csv-file</code>. Specifically, it must have:</p> <ul> <li>A column labeled <code>id</code> or <code>feature_id</code> with numbers matching molecular feature IDs (default from MS2Query &gt;= <code>v1.5.3</code>)</li> <li>A column labeled <code>analog_compound_name</code></li> <li>A column labeled <code>ms2query_model_prediction</code></li> <li>A column labeled <code>precursor_mz_difference</code></li> <li>A column labeled <code>precursor_mz_analog</code></li> <li>A column labeled <code>smiles</code></li> <li>A column labeled <code>inchikey</code></li> <li>A column labeled <code>npc_class_results</code></li> </ul> <pre><code>ms2query_model_prediction,precursor_mz_difference,precursor_mz_query_spectrum,precursor_mz_analog,inchikey,analog_compound_name,smiles,feature_id,npc_class_results\n0.3459,47.0324,247.1276,294.1600,AAAAAAAAAA,\u201dfakeomycin\u201d,CCCCC,3,Carboline alkaloids\n</code></pre>"},{"location":"home/input_output/#antismash-results","title":"AntiSMASH Results","text":""},{"location":"home/input_output/#online-fermo_gui","title":"Online (<code>fermo_gui</code>)","text":"<p>In the online version, FERMO requires only an existing antiSMASH job ID, which it will use to automatically fetch the required data.  An antiSMASH job ID has the format <code>taxon-aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeee</code>.  The ID can be found in the antiSMASH notification email or in the URL when browsing the job results.</p>"},{"location":"home/input_output/#offline-cli-fermo_core","title":"Offline CLI (<code>fermo_core</code>)","text":"<p>The <code>fermo_core</code> CLI requires a single antiSMASH results directory (at the time of writing, version 7.1) containing a <code>knownclusterblast</code> results directory.</p>"},{"location":"home/input_output/#fermo-session-file","title":"FERMO Session File","text":"<p>All analysis results and used parameters are written into a FERMO Session file in JSON format. This file serves as long-term storage of analysis results. Session files can be also loaded into FERMO, and used to reproduce the parameter settings.</p> <p>Nota bene: FERMO &gt;=1.0. does not accept session files that were generated with previous versions of FERMO (&lt;1.0)</p>"},{"location":"home/why_fermo/","title":"Why FERMO?","text":"<p>FERMO is dashboard app for metabolomics data analysis. It aims to make the annotation and prioritization of relevant metabolites convenient, reproducible, and comprehensive.</p>"},{"location":"home/why_fermo/#supported-data-types","title":"Supported data types","text":"<ul> <li>LC-MS(/MS) metabolomics data</li> <li>Genomics data</li> <li>Phenotype (bioactivity) data</li> <li>Environmental/group (meta)data</li> </ul>"},{"location":"home/why_fermo/#supported-analyses","title":"Supported analyses","text":"<ul> <li>Molecular feature filtering</li> <li>Spectral similarity (molecular) networking</li> <li>Feature annotation and identification</li> <li>Phenotype data correlation</li> <li>Determination of fold changes</li> <li>Calculation of prioritization scores</li> </ul>"},{"location":"home/why_fermo/#using-fermo-in-data-analysis","title":"Using FERMO in data analysis","text":"<p>In a typical metabolomics analysis, hundreds or thousands of molecular features are routinely detected. This wealth of information makes it challenging to manually identify and prioritize relevant molecules for further investigations. FERMO supports the prioritization task by an automated annotation pipeline, calculation of prioritization scores, and an intuitive graphical user interface. This allows to rapidly inspect data, formulate hypotheses, and determine relevant features.</p>"},{"location":"home/why_fermo/#benefits-of-fermo","title":"Benefits of FERMO","text":"<ul> <li>Interface: FERMO comes as intuitive dashboard allowing to prioritize data with a few clicks.</li> <li>Flexibility: FERMO only requires a feature peaktable - everything else is optional.</li> <li>Tool integration: FERMO integrates many different tools into a single pipeline.</li> <li>Modularity: FERMO is fully modular and allows for easy enabling/disabling of functionality.</li> <li>Reproducibility: FERMO's input parameter file allows for reproducible analysis runs.</li> <li>Prioritization scores: FERMO combines the individual modules in meta-scores useful for prioritization.</li> </ul>"},{"location":"home/why_fermo/#limitations-of-fermo","title":"Limitations of FERMO","text":"<ul> <li>Pre-processing: FERMO does not accept raw data and needs a pre-processed feature peaktable.</li> <li>Data compatibility: FERMO needs DDA-ESI-LC-MS(/MS) input data. Currently, accepted input file formats are limited.</li> <li>Scale: FERMO's interface is not intended to display a large number (&gt;100) of samples. While there is not fixed threshold, users intending to run large-scale analyses are advised to look into running <code>fermo_core</code> locally. </li> </ul>"},{"location":"modules/annotation.adduct/","title":"Adduct Ions","text":""},{"location":"modules/annotation.adduct/#description","title":"Description","text":"<p>This module annotates the ion identity of co-occurring molecular features (features with overlapping retention time ranges). In electrospray ionization (ESI), a single molecule can form adducts with different ions, resulting in different ion species and different molecular features. Therefore, annotation of related ion species does not only allow to reduce redundancy, but also gives information about the identity of the molecule (e.g. molecular weight). The annotation algorithm works as follows:</p> <ul> <li>For each sample, overlapping features are determined by simplifying features to one-dimensional vectors, denoted with two points x1 (retention time of the start of the feature) and x2 (end of the feature). For two features A,B with A(x1,x2) and B(x1,x2), if any of (Ax2 &lt; Bx1) or (Bx2 &lt; Ax1) is true, features do not overlap.</li> <li>For overlapping features, m/z values are compared. One of the two features is considered the [M+H]+ (positive mode) or the [M-H]- (negative mode) \u2018base\u2019 adduct, while the other peak is considered another adduct. If any of the registered mathematical operations (one for each different ion type) leads to a m/z match of the \u2018base\u2019 and the \u2018adduct\u2019 inside a user-specified mass deviation difference <code>mass_dev_ppm</code>, a match is registered.</li> </ul>"},{"location":"modules/annotation.adduct/#limitations","title":"Limitations","text":"<ul> <li>The algorithm currently does not triangulate the parent mass. Interpretation is the responsibility of the user.</li> </ul> <p>Currently supported positive ion mode adduct types are:</p> <ul> <li><code>sodium_adduct [M+Na]+</code></li> <li><code>dimer_sodium_adduct [2M+Na]+</code></li> <li><code>triple_h_adduct [M+3H]3+</code></li> <li><code>iron56 [M+56Fe-2H]+</code></li> <li><code>dimer_double [M+2H]2+ and [2M+H]+</code></li> <li><code>ammonium [M+NH4]+</code></li> <li><code>potassium [M+K]+</code></li> <li><code>water_add [M+H2O+H]+</code></li> <li><code>water_loss [M-H2O+H]+</code></li> <li><code>plus1_isotope [M+1+H]+</code></li> <li><code>plus2_isotope [M+2+H]+</code></li> <li><code>plus3_isotope [M+3+H]+</code></li> <li><code>plus4_isotope [M+4+H]+</code></li> <li><code>plus5_isotope [M+5+H]+</code></li> <li><code>double_plus1 [M+1+2H]2+</code></li> <li><code>double_plus2 [M+2+2H]2+</code></li> <li><code>double_plus3 [M+3+2H]2+</code></li> <li><code>double_plus4 [M+4+2H]2+</code></li> <li><code>double_plus5 [M+5+2H]2+</code></li> </ul> <p>Currently supported negative ion mode adducts are:</p> <ul> <li><code>chloride_adduct [M+Cl]-</code></li> <li><code>double_dimer_pair_neg [M-2H]2- and [2M-H]-</code></li> <li><code>bicarbonate_adduct [M+HCO2]-</code></li> <li><code>tfa_adduct [M+TFA-H]- (trifluoroacetate)</code></li> <li><code>acetate_adduct [M+HAc-H]-</code></li> </ul>"},{"location":"modules/annotation.adduct/#parameters","title":"Parameters","text":"Key Possible Values Default activate_module true, false true mass_dev_ppm 0-100.0 10.0"},{"location":"modules/annotation.adduct/#explanation","title":"Explanation","text":"<ul> <li><code>mass_dev_ppm</code>: the maximum allowed mass deviation difference to constitute a match.</li> </ul>"},{"location":"modules/annotation.as_kcb/","title":"antiSMASH KCB","text":""},{"location":"modules/annotation.as_kcb/#description","title":"Description","text":"<p>This module annotates molecular features using results from the KnownClusterBlast algorithm of the popular genome annotation tool antiSMASH.  KnownClusterBlast performs a multigene BLAST comparison against entries in the MIBiG repository, and registers significant hits with a score of percent similarity. </p> <p>This module parses the KnownClusterBlast matches, selects matches exceeding a user-specified similarity score, and extracts the metabolites experimentally associated with the MIBiG entries.  From this subset of molecules, a targeted MS/MS spectral library is assembled (using experimental and in silico-generated spectra CFM-ID and used for spectral library matching. </p> <p>The assumption is that if two genomes contain two similar biosynthetic gene clusters (BGCs), the metabolites resulting from these two BGCs should also show chemical similarity, with similar MS/MS fragmentation that should allow spectral matching.  Matches would likely be analogs (not exact matches), but could nevertheless help to annotate a feature.</p>"},{"location":"modules/annotation.as_kcb/#limitations","title":"Limitations","text":"<ul> <li>Currently, this module accepts a single antiSMASH results folder from the analysis of a single genome. Therefore, all LC-MS samples annotated by this method must also derive from the organism the genome is associated with. </li> <li>The definition of similarity in the context of BGCs: while it is assumed that two similar BGCs should produce similar metabolites, there are many exceptions, and there are cases where a single BGC can produce chemically very different molecules. </li> </ul>"},{"location":"modules/annotation.as_kcb/#parameters","title":"Parameters","text":"Key Possible Values Default filepath (the filepath) N/A score_cutoff 0.0-1.0 0.7"},{"location":"modules/annotation.as_kcb/#explanation","title":"Explanation","text":"<ul> <li><code>score_cutoff</code>: The minimum similarity (in percent) between antiSMASH BGC and MIBiG match required to be considered in annotation (i.e. 0.7 == 70% similarity).</li> </ul>"},{"location":"modules/annotation.as_kcb/#parameters-modified-cosine","title":"Parameters <code>modified cosine</code>","text":"Key Possible Values Default activate_module true, false false min_nr_matched_peaks  &gt;=1  5 fragment_tol  &gt;0  0.1 score_cutoff 0.0-1.0 0.5 max_precursor_mass_diff  &gt;=1  600"},{"location":"modules/annotation.as_kcb/#explanation_1","title":"Explanation","text":"<ul> <li><code>fragment_tol</code>: the absolute tolerance for matching two MS/MS fragments, in m/z units.</li> <li><code>min_nr_matched_peaks</code>: minimum number of fragments that must be matched between two MS/MS fragmentation spectra.</li> <li><code>score_cutoff</code>: minimum score to consider a match</li> <li><code>max_precursor_mass_diff</code>: maximum allowed difference between precursor m/z of feature and library m/z.</li> </ul>"},{"location":"modules/annotation.as_kcb/#parameters-ms2deepscore","title":"Parameters <code>ms2deepscore</code>","text":"Key Possible Values Default activate_module true, false false score_cutoff 0.0-1.0 0.7 max_precursor_mass_diff  &gt;=1  600"},{"location":"modules/annotation.as_kcb/#explanation_2","title":"Explanation","text":"<ul> <li><code>score_cutoff</code>: minimum score to consider a match</li> <li><code>max_precursor_mass_diff</code>: maximum allowed difference between precursor m/z of feature and library m/z.</li> </ul>"},{"location":"modules/annotation.fragment/","title":"Fragments","text":""},{"location":"modules/annotation.fragment/#description","title":"Description","text":"<p>This module performs feature annotation by matching single MS/MS fragments against a library of annotated MS/MS fragments. Therefore, matches can help to annotate features and identify molecules. The annotation algorithm works as follows:</p> <ul> <li>For each feature, iterate through fragments and compare them against a library of annotated fragments.</li> <li>If the m/z values of a fragment and a library fragment match (are inside a specified mass deviation), annotate the feature.</li> </ul>"},{"location":"modules/annotation.fragment/#limitations","title":"Limitations","text":"<ul> <li>Fragment matches can often be spurious (a single fragment m/z can correspond to many different molecule substructures) or can result from random noise. Therefore, they must not be trusted blindly.</li> <li>Currently, only positive ion mode fragments are supported.</li> <li>Currently, only y2- and b2 fragments resulting from (proteinogenic) peptides are supported (all calculated as [M+H]+ adducts). More information can be found on fermo_core_extras. </li> </ul>"},{"location":"modules/annotation.fragment/#parameters","title":"Parameters","text":"Key Possible Values Default activate_module true, false true mass_dev_ppm 0-100.0 10.0"},{"location":"modules/annotation.fragment/#explanation","title":"Explanation","text":"<ul> <li><code>mass_dev_ppm</code>: the maximum allowed mass deviation difference to constitute a match</li> </ul>"},{"location":"modules/annotation.loss/","title":"Neutral Loss","text":""},{"location":"modules/annotation.loss/#description","title":"Description","text":"<p>This module performs feature annotation by matching neutral losses (=precursor m/z - fragments) against a library of annotated neutral losses (adapted from Kersten et al 2011, Kersten et al 2013, Correa&amp;Niessen 2017 (ISBN:9781118500187)).  Such neutral losses can indicate functional groups present in the molecule and help with identification. The annotation algorithm works as follows:</p> <ul> <li>For each feature, iterate through neutral losses and compare them against a library of annotated neutral losses.</li> <li>If the values of a neutral loss and a library neutral loss match (are inside a specified mass deviation), annotate the feature.</li> </ul>"},{"location":"modules/annotation.loss/#limitations","title":"Limitations","text":"<ul> <li>Neutral loss matches can often be spurious (a neutral loss can correspond to many different molecule substructures) or can result from random noise. Therefore, they must not be trusted blindly.</li> </ul>"},{"location":"modules/annotation.loss/#parameters","title":"Parameters","text":"Key Possible Values Default activate_module true, false true mass_dev_ppm 0-100.0 10.0"},{"location":"modules/annotation.loss/#explanation","title":"Explanation","text":"<ul> <li><code>mass_dev_ppm</code>: the maximum allowed mass deviation difference to constitute a match</li> </ul>"},{"location":"modules/annotation.ms2query/","title":"MS2Query","text":""},{"location":"modules/annotation.ms2query/#description","title":"Description","text":"<p>For feature annotation, FERMO accepts results created by MS2Query, a machine-learning based annotation algorithm.  MS2Query comes with its own spectral library derived from the GNPS library and can do exact and/or analog matching.</p> <p>For compatibility with FERMO, the MS2Query results file must come with a column <code>feature_id</code> or <code>id</code> matching the peaktable feature IDs (default since MS2Query &gt;= <code>v1.5.3</code>)</p> <p>For more information on the algorithmm see the MS2Query Documentation.</p>"},{"location":"modules/annotation.ms2query/#parameters","title":"Parameters","text":"Key Possible Values Default filepath (the filepath) N/A score_cutoff 0.0-1.0 0.7"},{"location":"modules/annotation.ms2query/#explanation","title":"Explanation","text":"<ul> <li><code>score_cutoff</code>: minimum score in <code>ms2query_model_prediction</code> to consider a match to be valid. Matches with a score lower than <code>score_cutoff</code> are not considered for molecular feature annotation.</li> </ul>"},{"location":"modules/annotation.userlib/","title":"User Library","text":""},{"location":"modules/annotation.userlib/#description","title":"Description","text":"<p>This module compares molecular features against a user-provided (targeted) spectral library. The matching algorithm works as follows:</p> <ul> <li>For each feature, its MS/MS fragmentation spectrum is matched pairwise with each library spectrum, using one or more different algorithms described below. </li> <li>For the <code>modified cosine</code> algorithm, library matches are only retained if feature and library spectra share a minimum number of matched peaks within a certain fragment tolerance, reach a cutoff score, and are inside a maximum precursor mass difference.</li> <li>For the MS2DeepScore algorithm, library matches are only retained if feature and library spectra reach a certain cutoff score and are inside a maximum precursor mass difference.</li> </ul>"},{"location":"modules/annotation.userlib/#limitations","title":"Limitations","text":"<ul> <li>Spectral library matching is prohibitively slow with large spectral libraries (especially using the MS2DeepScore algorithm). Therefore, a targeted spectral library should be provided. For a more general library, see MS2Query annotation.</li> </ul>"},{"location":"modules/annotation.userlib/#parameters-modified-cosine","title":"Parameters <code>modified cosine</code>","text":"Key Possible Values Default activate_module true, false false min_nr_matched_peaks  &gt;=1  5 fragment_tol  &gt;0  0.1 score_cutoff 0.0-1.0 0.7 max_precursor_mass_diff  &gt;=1  600"},{"location":"modules/annotation.userlib/#explanation","title":"Explanation","text":"<ul> <li><code>fragment_tol</code>: the absolute tolerance for matching two MS/MS fragments, in m/z units.</li> <li><code>min_nr_matched_peaks</code>: minimum number of fragments that must be matched between two MS/MS fragmentation spectra.</li> <li><code>score_cutoff</code>: minimum score to consider a match</li> <li><code>max_precursor_mass_diff</code>: maximum allowed difference between precursor m/z of feature and library m/z.</li> </ul>"},{"location":"modules/annotation.userlib/#parameters-ms2deepscore","title":"Parameters <code>ms2deepscore</code>","text":"Key Possible Values Default activate_module true, false false score_cutoff 0.0-1.0 0.8 max_precursor_mass_diff  &gt;=1  600"},{"location":"modules/annotation.userlib/#explanation_1","title":"Explanation","text":"<ul> <li><code>score_cutoff</code>: minimum score to consider a match</li> <li><code>max_precursor_mass_diff</code>: maximum allowed difference between precursor m/z of feature and library m/z.</li> </ul>"},{"location":"modules/filter.feature/","title":"Feature Filtering","text":""},{"location":"modules/filter.feature/#description","title":"Description","text":"<p>This module filters molecular features that do not fit specified cutoff settings. </p> <p>It has been observed that under certain circumstances, a large part of molecular features can be attributed to instrument noise Samples 2023.  Therefore, FERMO allows to filter certain molecular features from the analysis:</p> <ul> <li>For a given range of relative signal height/intensity (0-1.0, relative to the feature with the highest hieght/intensity), molecular features that are not inside this range in at least one sample are discarded</li> <li>For a given range of relative signal area (0-1.0, relative to the feature with the highest area), molecular features that are not inside this range in at least one sample are discarded</li> </ul> <p>These filters can be combined with each other to yield certain slices of the original data.</p> <p>Nota bene: by default, features with a relative area of less than 0.01 are filtered from the analysis.</p>"},{"location":"modules/filter.feature/#parameters","title":"Parameters","text":"Key Possible Values Default activate_module true, false true filter_rel_int_range_min 0.0-1.0 0.0 filter_rel_int_range_max 0.0-1.0 1.0 filter_rel_area_range_min 0.01-1.0 0.0 filter_rel_area_range_max 0.0-1.0 1.0"},{"location":"modules/filter.feature/#explanation","title":"Explanation","text":"<ul> <li><code>filter_rel_int_range_min</code>: specifies the minimum value of relative intensity to retain in analysis</li> <li><code>filter_rel_int_range_max</code>: specifies the maximum value of relative intensity to retain in analysis</li> <li><code>filter_rel_area_range_min</code>: specifies the minimum value of relative area to retain in analysis</li> <li><code>filter_rel_area_range_max</code>: specifies the maximum value of relative area to retain in analysis</li> </ul>"},{"location":"modules/filter.msms/","title":"MS/MS Filtering","text":""},{"location":"modules/filter.msms/#description","title":"Description","text":"<p>This module performs filtering of MS/MS fragmentation spectra of features.  MS/MS spectra regularly contain fragments caused by instrument noise, which obfuscate and prolongate the analysis. </p> <p>By default, FERMO will quality-filter MS/MS fragments and remove the fragment corresponding to the precursor m/z and all fragments +- 10 m/z units around the precursor m/z. These fragments are usually artifacts and do not correspond to any meaningful neutral losses. </p> <p>Additionally, FERMO can remove fragments with a relative intensity lower than a user-specified value. This is recommended to remove noise peaks from the spectrum. Filtering takes place after the initial precursor m/z removal.</p>"},{"location":"modules/filter.msms/#parameters","title":"Parameters","text":"Key Possible Values Default filepath (the filepath) N/A format mgf N/A rel_int_from 0.0-1.0 0.01"},{"location":"modules/filter.msms/#explanation","title":"Explanation","text":"<ul> <li><code>rel_int_from</code>: specifies the minimum relative intensity to retain fragments in an MS/MS spectrum. If 0.0, all fragments are retained. A value of 0.01 would remove all fragments with an intensity of less than 1% of the most intense fragment.</li> </ul>"},{"location":"modules/metadata.blank/","title":"Blank Assignment","text":""},{"location":"modules/metadata.blank/#description","title":"Description","text":"<p>Sample blanks (i.e. instrument runs without sample injection) are frequently used to determine molecular features that are not associated with the biological variability of a sample (e.g. background ions, instrument noise).  Therefore, blank subtraction is an integral part of metabolomics data processing. The algorithm works as follows:</p> <ul> <li>Molecular features only observed in samples designated as \u201cBLANK\u201d are considered blank-associated</li> <li>Molecular features only observed in non-blank samples are never considered blank-associated</li> <li>For each feature observed in both non-blank and blank samples, a user-specified feature value (height or area) across \u201cnon-blank\u201d and \u201cblank\u201d samples is compared using an user-specified algorithm. If the resulting quotient is greater than a user-specified ratio (fold-change), the feature is considered NOT blank-associated, else, it is considered blank-associated. This allows to retain features that are detected in sample blanks due to column retention/bleed.</li> </ul>"},{"location":"modules/metadata.blank/#parameters","title":"Parameters","text":"Key Possible Values Default activate_module true, false false factor &gt;=1 10 algorithm mean, median, maximum mean value height, area area"},{"location":"modules/metadata.blank/#explanation","title":"Explanation","text":"<ul> <li><code>algorithm</code>: algorithm to summarize value over non-blank samples and sample blanks (mean, median, maximum (highest value across non-blanks/blanks)).</li> <li><code>value</code>: specifies type of value to be considered (height or area)</li> <li><code>factor</code>: determines subtraction of features detected in both blank and non-blank samples.</li> </ul>"},{"location":"modules/metadata.group_fold/","title":"Group Assignment","text":""},{"location":"modules/metadata.group_fold/#description","title":"Description","text":"<p>Samples are frequently grouped to compare intergroup variability (instead of only inter-sample variability). </p> <p>FERMO allows to specify multiple categories of groups (each column in the group metadata file is considered one category), with multiple groups inside each category.  For each category, features associated to multiple groups are identified and their relative abundance is calculated as follows:</p> <ul> <li>For each feature, association to the groups of a category is determined.</li> <li>If a feature is detected in two or more groups, user-specified values detected across the samples belonging to each group are summarized via a user-specified algorithm, the values compared pairwise, and the resulting quotient is registered if &gt;= 1.</li> <li>This process is repeated for each specified category.</li> </ul>"},{"location":"modules/metadata.group_fold/#limitations","title":"Limitations","text":"<ul> <li>Groups from different categories are never compared. Only categories inside groups are compared.</li> </ul>"},{"location":"modules/metadata.group_fold/#parameters","title":"Parameters","text":"Key Possible Values Default activate_module true, false false algorithm mean, median, maximum mean value height, area area"},{"location":"modules/metadata.group_fold/#explanation","title":"Explanation","text":"<ul> <li><code>algorithm</code>: the algorithm to summarize values across a group with. Possible algorithms are <code>mean</code>, <code>median</code>, and <code>maximum</code> (highest value across samples of a group)</li> <li><code>value</code>: specifies the value to be considered: <code>height</code> (=intensity) or <code>area</code> of feature.</li> </ul>"},{"location":"modules/networking/","title":"Spectral Similarity","text":""},{"location":"modules/networking/#description","title":"Description","text":"<p>This module annotates molecular features by performing spectral similarity networking (also known as \u201cmolecular networking\u201d coined by the GNPS software). MS/MS fragmentation spectra of features are compared in a pairwise fashion, and features with similar spectra are then grouped.  This is based on the observation that similar molecules usually show similar MS/MS fragmentation patterns, and therefore, similar fragmentation patterns indicate related molecules (chemical families). </p> <p>FERMO performs spectral similarity networking as follows:</p> <ul> <li>The modified cosine algorithm Watrous 2012, a robust algorithm most useful to cluster highly similar MS/MS spectra, with a generally low false-positive rate</li> <li>The MS2DeepScore algorithm Huber 2021, a more experimental algorithm capable of detecting distant similarity, but with a higher false-positive detection rate</li> </ul>"},{"location":"modules/networking/#limitations","title":"Limitations","text":"<ul> <li>MS/MS fragmentation spectra are needed for spectral similarity networking. Sometimes, molecular features lack this information and are excluded from the networking.</li> <li>Given the difficulty in objectively quantifying chemical similarity and the arbitrary nature of cutoff scores, spectral similarity (sub)networks can be drawn in various ways, and even small changes in parameter settings can lead to differences in connectivity. Likewise, different algorithms can result in different networks. Therefore, spectral similarity networking should not be seen as \u201cground truth\u201d and should be interpreted with caution.</li> </ul>"},{"location":"modules/networking/#parameters-modified-cosine","title":"Parameters <code>modified cosine</code>:","text":"Key Possible Values Default activate_module true, false true msms_min_frag_nr  &gt;=1  5 fragment_tol  &gt;0  0.1 score_cutoff 0.0-1.0 0.7 max_nr_links  &gt;=1  10"},{"location":"modules/networking/#explanation","title":"Explanation","text":"<ul> <li><code>msms_min_frag_nr</code>: minimum number of fragments a MS/MS fragmentation spectrum must have to be considered in spectral similarity networking</li> <li><code>fragment_tol</code>: the absolute tolerance for matching two MS/MS fragments, in m/z units.</li> <li><code>score_cutoff</code>: minimum score to consider a match</li> <li><code>max_nr_links</code>: maximum number of links to other molecular features any molecular feature is allowed to have in a network.</li> </ul>"},{"location":"modules/networking/#parameters-ms2deepscore","title":"Parameters <code>ms2deepscore</code>:","text":"Key Possible Values Default activate_module true, false true msms_min_frag_nr  &gt;=1  5 score_cutoff 0.0-1.0 0.8 max_nr_links  &gt;=1  10"},{"location":"modules/networking/#explanation_1","title":"Explanation","text":"<ul> <li><code>score_cutoff</code>: minimum score to consider a match</li> <li><code>msms_min_frag_nr</code>: minimum number of fragments a MS/MS fragmentation spectrum must have to be considered in spectral similarity networking.</li> <li><code>max_nr_links</code>: maximum number of links to other molecular features any molecular feature is allowed to have in a network.</li> </ul>"},{"location":"modules/overview/","title":"Modules Overview","text":"<p>FERMO functionality is separated in modules: each module has a certain functionality and takes certain parameters that modify its behavior.  All modules are optional and can be switched on/off as desired.</p> <p>In the FERMO GUI, these parameters can be set using the input forms. </p> <p>FERMO in command line mode (<code>fermo_core</code>) requires a specifically formatted <code>parameters</code> file in <code>JSON</code> format.  The parameters are described in the individual modules.</p>"},{"location":"modules/overview/#filtering","title":"Filtering","text":"<ul> <li>Feature Filtering</li> <li>MS/MS Filtering</li> </ul>"},{"location":"modules/overview/#networking","title":"Networking","text":"<ul> <li>Spectral Similarity (Molecular) Networking</li> </ul>"},{"location":"modules/overview/#annotation","title":"Annotation","text":"<ul> <li>Adduct Annotation</li> <li>Neutral Loss Annotation</li> <li>Fragment Annotation</li> <li>Spectral Library Annotation</li> <li>MS2Query Annotation</li> <li>antiSMASH KnownClusterBlast Annotation</li> </ul>"},{"location":"modules/overview/#group-metadata","title":"Group Metadata","text":"<ul> <li>Blank Assignment</li> <li>Group Assignment</li> </ul>"},{"location":"modules/overview/#phenotype-assignment","title":"Phenotype Assignment","text":"<ul> <li>Phenotype Qualitative</li> <li>Phenotype Quantitative-Percentage</li> <li>Phenotype Quantitative-Concentration</li> </ul>"},{"location":"modules/overview/#scores","title":"Scores","text":"<ul> <li>Feature Scores Calculation</li> <li>Sample Scores Calculation</li> </ul>"},{"location":"modules/phenotype.qualitative/","title":"Qualitative","text":""},{"location":"modules/phenotype.qualitative/#description","title":"Description","text":"<p>The \u201cqualitative\u201d module takes qualitative phenotype/bioactivity data.  Samples are either considered \u201cpositive\u201d or \u201cnegative\u201d (binary).  The algorithm works as follows:</p> <ul> <li>Features exclusively detected in the \u201cpositive\u201d samples are considered phenotype/bioactivity-associated. </li> <li>Features exclusively detected in the \u201cnegative\u201d samples are considered NOT phenotype/bioactivity-associated. </li> <li>For features detected in both \u201cpositive\u201d and \u201cnegative\u201d samples, a user-specified feature value (height or area) across \u201cpositive\u201d and \u201cnegative\u201d samples is compared using a user-specified algorithm. If the resulting quotient is greater than a user-specified ratio (fold-change), the feature is considered phenotype/bioactivity-associated; else, it is not. This allows to retain features that may be bioactivity-associated but are present in sub-inhibitory concentrations in the \u201cnegative\u201d samples (lack of phenotypic/bioactivity readout). The fold-change is then registered as the phenotype score.</li> </ul>"},{"location":"modules/phenotype.qualitative/#limitations","title":"Limitations","text":"<ul> <li>Contrary to Quantitative-Percentage and Quantitative-Concentration, this module does not perform predictions - it rather excludes features that are unlikely to be associated with the observed phenotype.</li> <li>This method assumes that the prerequisites with regard to sample reproducibility are met (see Input/Output).</li> </ul>"},{"location":"modules/phenotype.qualitative/#parameters","title":"Parameters","text":"Key Possible Values Default activate_module true, false false factor &gt;=1 10 algorithm minmax, median, mean minmax value height, area area"},{"location":"modules/phenotype.qualitative/#explanation","title":"Explanation","text":"<ul> <li><code>factor</code>: the user-specified ratio (fold change) to differentiate features detected in both \u201cpositive\u201d and \u201cnegative\u201d samples.</li> <li><code>value</code>: the value used in the determination of the quotient.</li> <li><code>algorithm</code>: the algorithm to summarize values over \u201cpositive\u201d and \u201cnegative\u201d samples. Currently possible algorithms are \u201cmean\u201d, \u201cmedian\u201d, and \u201cminmax\u201d. The latter takes the lowest value across \u201cpositive\u201d samples and the highest value across \u201cnegative\u201d samples</li> </ul>"},{"location":"modules/phenotype.quant-concentr/","title":"Qualitative-Concentration","text":""},{"location":"modules/phenotype.quant-concentr/#description","title":"Description","text":"<p>The \u201cquantitative-concentration\u201d module takes phenotype/bioactivity data, with the minimum inhibitory concentration per sample specified (concentration/dilution at which a phenotypic signal was still observed).</p> <p>Samples inactive at any concentration are specified with 0. Multiple measurements can be specified for each sample, and multiple assays can be provided. The algorithm works as follows:</p> <ul> <li>Duplicate measurements per sample are averaged using either the mean or median.</li> <li>The areas of molecular features detected in more than three samples are z-transformed.</li> <li>MIC values are converted to their reciprocals (1 / measurement) or left as zero if the concentration was zero, then z-transformed.</li> <li>Transformed feature areas and MIC values are correlated using Pearson correlation.</li> <li>The resulting p-values are corrected for multiple hypothesis testing using a user-specified correction method (e.g. Bonferroni).</li> <li>Features that exceed user-defined thresholds for both correlation coefficient and adjusted p-value are classified as bioactivity-associated.</li> </ul>"},{"location":"modules/phenotype.quant-concentr/#limitations","title":"Limitations","text":"<ul> <li>This method assumes that the prerequisites with regard to sample reproducibility are met (see Input/Output).</li> <li>This method assumes a negative linear relationship between phenotype (concentration) and concentration (area of feature) - the lower the minimal inhibitory concentration, the higher the concentration.</li> <li>This method does not take into account any synergistic or quenching effects.</li> </ul>"},{"location":"modules/phenotype.quant-concentr/#parameters","title":"Parameters","text":"Key Possible Values Default activate_module true, false false sample_avg mean, median mean value area area algorithm pearson pearson fdr_corr bonferroni, sidak, holm-sidak, holm, simes-hochberg, hommel, fdr_bh, fdr_by, fdr_tsbh, fdr_tsbky bonferroni p_val_cutoff 0.0-1.0 0.05 coeff_cutoff 0.0-1.0 0.7"},{"location":"modules/phenotype.quant-concentr/#explanation","title":"Explanation","text":"<ul> <li><code>sample_avg</code>: specifies the algorithm to summarize multiple measurements per sample for same assay. Possible algorithms are <code>mean</code> and <code>median</code>.</li> <li><code>value</code>: specifies value per feature to be correlated with concentration. Only <code>area</code> is currently allowed.</li> <li><code>algorithm</code>: specifies the statistical algorithm to use. Only <code>pearson</code> is currently allowed.</li> <li><code>fdr_corr</code>: the method used for false-discovery-rate correction. FERMO uses the statsmodels library for this purpose - please see their documentation for information on the different algorithms.</li> <li><code>p_val_cutoff</code>: Maximum FDR-corrected p-value to consider, with zero disabling cutoff filtering for both p-value and coefficient.</li> <li><code>coeff_cutoff</code>: Minimum correlation coefficient to consider, with zero disabling cutoff filtering for both p-value and coefficient.</li> </ul>"},{"location":"modules/phenotype.quant-percent/","title":"Quantitative-Percentage","text":""},{"location":"modules/phenotype.quant-percent/#description","title":"Description","text":"<p>The \u201cquantitative-percentage\u201d module takes phenotype/bioactivity data where samples have a measured percentage of bioactivity/phenotype at a specified concentration. </p> <p>Multiple measurements can be specified for each sample, and multiple assays (each at a determined concentration) can be provided. The algorithm works as follows:</p> <ul> <li>Values below zero are set to zero.</li> <li>Duplicate measurements per sample are averaged using either the mean or median.</li> <li>The areas of molecular features detected in more than three samples are z-transformed along with the phenotype measurements.</li> <li>Transformed feature areas and percentage values are correlated using Pearson correlation.</li> <li>The resulting p-values are corrected for multiple hypothesis testing using a user-specified correction method (e.g. Bonferroni).</li> <li>Features that exceed user-defined thresholds for both correlation coefficient and adjusted p-value are considered phenotype-associated.</li> </ul>"},{"location":"modules/phenotype.quant-percent/#limitations","title":"Limitations","text":"<ul> <li>This method assumes that the prerequisites with regard to sample reproducibility are met (see Input/Output).</li> <li>This method assumes a positive linear correlation between phenotype (percentage) and concentration (area of feature).</li> <li>This method does not take into account any synergistic or quenching effects.</li> </ul>"},{"location":"modules/phenotype.quant-percent/#parameters","title":"Parameters","text":"Key Possible Values Default activate_module true, false false sample_avg mean, median mean value area area algorithm pearson pearson fdr_corr bonferroni, sidak, holm-sidak, holm, simes-hochberg, hommel, fdr_bh, fdr_by, fdr_tsbh, fdr_tsbky bonferroni p_val_cutoff 0.0-1.0 0.05 coeff_cutoff 0.0-1.0 0.7"},{"location":"modules/phenotype.quant-percent/#explanation","title":"Explanation","text":"<ul> <li><code>sample_avg</code>: specifies the algorithm to summarize multiple measurements per sample for same assay. Possible algorithms are <code>mean</code> and <code>median</code>.</li> <li><code>value</code>: specifies value per feature to be correlated with percentage. Only <code>area</code> is currently allowed.</li> <li><code>algorithm</code>: specifies the statistical algorithm to use. Only <code>pearson</code> is currently allowed.</li> <li><code>fdr_corr</code>: the method used for false-discovery-rate correction. FERMO uses the statsmodels library for this purpose - please see their documentation for information on the different algorithms.</li> <li><code>p_val_cutoff</code>: Maximum FDR-corrected p-value to consider, with zero disabling cutoff filtering for both p-value and coefficient.</li> <li><code>coeff_cutoff</code>: Minimum correlation coefficient to consider, with zero disabling cutoff filtering for both p-value and coefficient.</li> </ul>"},{"location":"modules/scores.features/","title":"Feature Scores","text":""},{"location":"modules/scores.features/#description","title":"Description","text":"<ul> <li>Phenotype score: summarizes phenotype information assignment, with higher scores indicating higher likeliness for the feature to be associated with the phenotype. The score is determined by the highest score determined by phenotype assignment if such an assignment was performed; else, it assigns zero.</li> <li>Novelty score: summarizes multiple annotations of feature identity, with higher scores indicating higher likeliness for the feature to be novel. If any annotation was performed, the highest matching score is subtracted from one; else, it assigns zero.</li> </ul>"},{"location":"modules/scores.samples/","title":"Sample Scores","text":""},{"location":"modules/scores.samples/#description","title":"Description","text":"<ul> <li>Diversity score: summarizes the chemistry that is found in this sample, compared to all other samples. Here, spectral similarity networks are taken as proxy for chemical families. For each spectral similarity networking algorithm, the number of detected networks for this sample is divided by the total number of networks, with the quotient being the score. Only the highest quotient across all networking algorithms is retained. The higher the score, the more different chemistry can be observed in the sample. Diversity scores strongly depend on networking parameters and must only be considered for a single fermo analysis run.</li> <li>Specificity score: summarizes the chemistry that is specific to this sample, compared to the other samples. For each networking algorithm, the number of detected networks for this sample is subtracted by the number of networks that were also observed in other samples and divided by the total number of networks, with the quotient being the score. Again, only the highest quotient across all networking algorithms is retained. The higher the score, the more chemistry is specific for the individual sample. Diversity scores strongly depend on networking parameters and must only be considered for a single fermo analysis run.</li> <li>Mean novelty score: The mean novelty scores of all features in this sample.</li> </ul>"}]}